document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector("body");new Swiper(".discount-slider",{slidesPerView:1.3,spaceBetween:14,freeMode:!0,breakpoints:{320:{slidesPerView:1.1},375:{slidesPerView:1.3},420:{slidesPerView:1.5},480:{slidesPerView:1.8}}}),new Swiper(".special-offer-slider",{slidesPerView:1.3,spaceBetween:14,freeMode:!0,breakpoints:{320:{slidesPerView:1.3},375:{slidesPerView:1.6},420:{slidesPerView:1.9},480:{slidesPerView:2.2}}}),document.querySelectorAll(".card__tocart").forEach(e=>{e.addEventListener("click",(function(){this.closest(".card__bottom").classList.add("added")}))}),document.querySelectorAll(".counter").forEach(e=>{let t=e.querySelector(".counter__input"),l=e.querySelector(".counter__minus");e.querySelector(".counter__plus").addEventListener("click",(function(){t.value++})),l.addEventListener("click",(function(){t.value>0&&t.value--}))});let t=document.querySelectorAll(".form");function l(e){let t=!1;return"tel"==e.getAttribute("type")?t=Inputmask.isValid(e.value,{mask:"+7 999 999-99-99"}):"checkbox"==e.getAttribute("type")&&(t=!!e.checked),!!t}t.length&&t.forEach(e=>{let t=e.querySelectorAll(".required");e.querySelector(".btn__submit").addEventListener("click",r=>{let o;r.preventDefault();let c=0;t.forEach(e=>{if(o=l(e),!o)return e.classList.add("error"),++c,c;e.classList.remove("error")}),0==c&&e.classList.contains("login-one")&&e.querySelector(".js-auth-tel")&&(e.style.display="none",document.querySelector(".login-two").style.display="block",console.log("отправка"))})}),document.querySelector('input[type="tel"]')&&new Inputmask({mask:"+7 999 999-99-99",clearMaskOnLostFocus:!1,oncomplete:function(){l(this)},onincomplete:function(){l(this)}}).mask(document.querySelectorAll('input[type="tel"]'));const r=document.querySelectorAll(".sms__input"),o=Array.prototype.slice.call(r);o.forEach((e,t)=>{e.addEventListener("keyup",(function(l){if(69===l.which)return e.value="";let r=e.value,c=r.length;if(8===l.which&&o[t-1])return o[t-1].focus();1===c?(e.value=r.substr(0,1),o[t+1]&&o[t+1].focus()):o[t+1]&&8!=l.which?(e.value=r.substr(0,1),o[t+1].focus(),o[t+1].value=r.substr(1,1)):c>1&&!o[t+1]&&(e.value=r.substr(0,1))}))}),document.querySelectorAll("[data-link-to]").forEach(e=>{e.addEventListener("click",(function(){let e=this.getAttribute("data-link-to"),t=document.querySelector('[data-link="'+e+'"]');this.closest("[data-link-wrapper]").style.display="none",t.style.display="block"}))});let c=document.querySelectorAll("[data-modal-trigger]");c&&c.forEach(t=>{t.addEventListener("click",()=>{!function(t,l){let r,o=t.getAttribute("data-modal-trigger");r=null!=l?document.querySelector('[data-modal="'+l+'"]'):document.querySelector('[data-modal="'+o+'"]');let c=document.createElement("div");c.classList.add("modal__bg"),r.append(c),r.style.display="block",e.classList.add("noscroll"),c.addEventListener("click",(function(){r.removeAttribute("style"),e.classList.remove("noscroll"),c.remove()}));let s=document.querySelectorAll("[data-modal-close]");s&&s.forEach(t=>{t.addEventListener("click",(function(){t.closest("[data-modal]").removeAttribute("style"),c.remove(),e.classList.remove("noscroll")}))})}(t)})});let s=document.querySelector(".js-location-confirm");s&&s.addEventListener("click",(function(){this.closest(".location").remove()}))}));